"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5013],{5013:(O,f,r)=>{r.r(f),r.d(f,{DetalleAlumnoPage:()=>c});var d=r(5861),u=r(6814),h=r(95),t=r(6196),e=r(6689),g=r(8828),P=r(1559),A=r(8588),E=r(7911);function C(o,s){1&o&&(e.TgZ(0,"ion-item",18)(1,"ion-avatar",19),e._UZ(2,"ion-skeleton-text",20),e.qZA(),e.TgZ(3,"ion-label")(4,"h3"),e._UZ(5,"ion-skeleton-text",13),e.qZA(),e.TgZ(6,"p"),e._UZ(7,"ion-skeleton-text",21),e.qZA()(),e._UZ(8,"ion-skeleton-text",22),e.qZA())}const b=function(){return[]};function x(o,s){1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",12)(2,"ion-label"),e._UZ(3,"ion-skeleton-text",13),e.qZA(),e.TgZ(4,"ion-note",14),e._UZ(5,"ion-skeleton-text",15),e.qZA()(),e.TgZ(6,"ion-list",16),e.YNc(7,C,9,0,"ion-item",17),e.qZA(),e.BQk()),2&o&&(e.xp6(7),e.Q6J("ngForOf",e.DdM(1,b).constructor(12)))}function p(o,s){if(1&o&&(e.TgZ(0,"ion-list",26)(1,"ion-item",27)(2,"ion-label")(3,"p"),e._uU(4,"Secci\xf3n:"),e.qZA()(),e._UZ(5,"ion-input",28),e.ALo(6,"titlecase"),e.ALo(7,"titlecase"),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"ion-item",27)(10,"ion-label")(11,"p"),e._uU(12,"R.U.N:"),e.qZA()(),e._UZ(13,"ion-input",28),e.qZA(),e.TgZ(14,"ion-item",27)(15,"ion-label")(16,"p"),e._uU(17,"Email:"),e.qZA()(),e._UZ(18,"ion-input",28),e.qZA(),e.TgZ(19,"ion-item",27)(20,"ion-label")(21,"p"),e._uU(22,"Celular:"),e.qZA()(),e._UZ(23,"ion-input",28),e.qZA()()),2&o){const i=e.oxw(2);e.xp6(5),e.cQ8("value","",e.lcZ(6,6,i.userInfoReceived.nombre)," ",e.lcZ(7,8,i.userInfoReceived.apellido_paterno)," ",e.lcZ(8,10,i.userInfoReceived.apellido_materno),""),e.xp6(8),e.s9C("value",i.userInfoReceived.rut),e.xp6(5),e.s9C("value",i.userInfoReceived.email),e.xp6(5),e.MGl("value","(+56) ",i.userInfoReceived.telefono,"")}}function v(o,s){if(1&o&&(e.TgZ(0,"ion-list",26)(1,"ion-item",27)(2,"ion-label")(3,"p"),e._uU(4,"Carrera:"),e.qZA()(),e._UZ(5,"ion-input",28),e.qZA()()),2&o){const i=e.oxw(2);e.xp6(5),e.s9C("value",i.userInfoReceived.carreras.nombre_carrera)}}function M(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",23)(2,"ion-label")(3,"ion-text",24),e._uU(4," Tu Informaci\xf3n"),e.qZA()()(),e.YNc(5,p,24,12,"ion-list",25),e._UZ(6,"hr"),e.TgZ(7,"ion-list-header",12)(8,"ion-label")(9,"ion-text",24),e._uU(10," Tus Carreras "),e.qZA()()(),e.YNc(11,v,6,1,"ion-list",25),e.BQk()),2&o){const i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.content_loaded&&i.userInfoReceived),e.xp6(6),e.Q6J("ngIf",i.content_loaded&&i.userInfoReceived)}}let c=(()=>{var o;class s{constructor(n,a,l,m,_,T,Z,U){this.router=n,this.activatedRoute=a,this.clasesService=l,this.asistenciaService=m,this.formBuilder=_,this.toastService=T,this.navController=Z,this.actionSheetController=U,this.content_loaded=!1,this.submitAttempt=!1,this.qrCodeString="This is a secret qr code message",this.content_visibility=""}ngOnInit(){var n=this;return(0,d.Z)(function*(){try{var a;n.userInfoReceived=null===(a=n.router.getCurrentNavigation())||void 0===a||null===(a=a.extras.state)||void 0===a?void 0:a.user,console.log("userInfoReceived: ",n.userInfoReceived),n.content_loaded=!0,n.content_loaded=!0}catch(l){console.error("Error Trayendo los datos de la clases:",l)}})()}goToStudentTabs(){this.router.navigate(["student","tabs","tab1"])}goToClasesTab(){this.router.navigate(["teacher","tabs","tab2"])}countTotalAlumnos(n){return n+1}goToCamera(){this.router.navigate(["camera"])}updateProfilePicture(){var n=this;return(0,d.Z)(function*(){yield(yield n.actionSheetController.create({header:"Elejir fotograf\xeda existente o tomar una nueva",cssClass:"custom-action-sheet",buttons:[{text:"Elejir fotograf\xeda desde galeria",icon:"images",handler:()=>{}},{text:"Tomar fotograf\xeda",icon:"camera",handler:()=>{n.goToCamera()}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}submit(){this.submitAttempt=!0,this.editProfileForm.valid?(this.toastService.presentToast("Success","Profile saved","top","success",2e3),this.navController.back()):this.toastService.presentToast("Error","Please fill in all required fields","top","danger",2e3)}}return(o=s).\u0275fac=function(n){return new(n||o)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(P.F),e.Y36(A.l),e.Y36(h.qu),e.Y36(E.k),e.Y36(t.SH),e.Y36(t.BX))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-alumno"]],standalone:!0,features:[e.jDz],decls:17,vars:3,consts:[["collapse","fade",3,"translucent"],["color","dark"],["slot","start"],["color","secondary","text","Atr\xe1s",3,"click"],[1,"centered-title"],[1,"profile-card"],[1,"img2"],["src","../../../../assets/card-media.png"],["color","primary",3,"click"],[1,"ion-padding"],[4,"ngIf"],[1,"hr-medium"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],[1,"ion-list-header-small","ion-margin-top"],["color","tertiary"],["class","list-custom","lines","full",4,"ngIf"],["lines","full",1,"list-custom"],["color","primary"],["readonly","",1,"font-size-small","ion-text-right","ion-no-padding-end",3,"value"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-back-button",3),e.NdJ("click",function(){return a.goToStudentTabs()}),e.qZA()(),e.TgZ(4,"ion-title",4),e._uU(5," Datos Alumno "),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-card",5)(8,"ion-card-content")(9,"ion-avatar",6),e._UZ(10,"img",7),e.qZA()(),e.TgZ(11,"ion-button",8),e.NdJ("click",function(){return a.updateProfilePicture()}),e._uU(12," Cambiar fotograf\xeda "),e.qZA()(),e.TgZ(13,"div",9),e.YNc(14,x,8,2,"ng-container",10),e.YNc(15,M,12,2,"ng-container",10),e._UZ(16,"hr",11),e.qZA()()),2&n&&(e.Q6J("translucent",!0),e.xp6(14),e.Q6J("ngIf",!a.content_loaded),e.xp6(1),e.Q6J("ngIf",a.content_loaded))},dependencies:[t.Pc,t.BJ,t.oU,t.YG,t.Sm,t.PM,t.FN,t.W2,t.Gu,t.pK,t.Ie,t.Q$,t.q_,t.yh,t.uN,t.CK,t.yW,t.wd,t.sr,t.j9,t.cs,u.ez,u.sg,u.O5,u.rS,h.u5],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:70%}.heart[_ngcontent-%COMP%]{color:red;font-size:14px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(.8)}70%{transform:scale(.65)}to{transform:scale(0)}}.qrcodeImage[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.demoBorderRadius[_ngcontent-%COMP%]{border:dashed;border-width:2px 4px;border-radius:40px;overflow:hidden}.profile-card[_ngcontent-%COMP%]{border-radius:0;background:linear-gradient(135deg,var(--ion-color-dark),var(--ion-color-primary));width:100%;display:flex;justify-content:center;flex-direction:column;align-items:center;padding:30px;text-align:center}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px;text-align:center;margin-bottom:30px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:128px;width:128px;border-radius:50%;border:4px solid var(--ion-color-light);display:inline;box-shadow:0 0 28px #ffffffa6;margin-left:10px}.img2[_ngcontent-%COMP%]{height:128px;width:128px;margin-left:-30px}"]}),s})()},1559:(O,f,r)=>{r.d(f,{F:()=>x});var d=r(9862),u=r(7398),h=r(9397),t=r(553),e=r(46),g=r(6689),P=r(8828),A=r(2333);let x=(()=>{var p;class v{constructor(c,o,s){this.http=c,this.router=o,this.authService=s,this.apiUrlSecciones=t.N.supabaseUrl+"/rest/v1/secciones",this.apiUrlSeccionesAlumnos=t.N.supabaseUrl+"/rest/v1/secciones_alumnos",this.apiUrlClases=t.N.supabaseUrl+"/rest/v1/clases",this.supabase=(0,e.eI)(t.N.supabaseUrl,t.N.supabaseKey)}getProfesorClasesListAll(c){const o=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`,Range:"0-9"});return this.http.get(`${this.apiUrlSecciones}`,{headers:o,params:{profesor_id:`eq.${c}`,select:"*,clases(*)"}}).pipe((0,u.U)(i=>{const n=[];return i.forEach(a=>{a.clases.forEach(l=>{n.push({id:l.id,fecha:l.fecha,hora_inicio:l.hora_inicio,hora_termino:l.hora_termino,seccion_id:l.seccion_id,nombre_seccion:a.nombre_seccion,profesor_id:a.profesor_id,asignatura_id:a.asignatura_id})})}),n}))}getProfesorClasesListCurrentDay(c,o){const s=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(`${this.apiUrlSecciones}`,{headers:s,params:{profesor_id:`eq.${c}`,select:"*,clases(*)"}}).pipe((0,h.b)(n=>console.log("API Response:",n)),(0,u.U)(n=>{const l=[];return n.forEach(m=>{m.clases.forEach(_=>{new Date(_.fecha),_.fecha==o&&l.push({id:_.id,fecha:_.fecha,hora_inicio:_.hora_inicio,hora_termino:_.hora_termino,seccion_id:_.seccion_id,nombre_seccion:m.nombre_seccion,profesor_id:m.profesor_id,asignatura_id:m.asignatura_id})})}),l}))}getgetAlumnosBySeccion(c){const o=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(`${this.apiUrlSeccionesAlumnos}`,{headers:o,params:{seccion_id:`eq.${c}`,select:"*,alumnos(*)"}})}getClasesAndSeccionbyFecha(c){const o=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(this.apiUrlClases,{headers:o,params:{fecha:`eq.${c}`,select:"*,seccion_id(*)"}}).pipe((0,h.b)(i=>console.log("API Response:",i)),(0,u.U)(i=>i.map(n=>{const a=n.seccion_id;return{id:n.id,fecha:n.fecha,hora_inicio:n.hora_inicio,hora_termino:n.hora_termino,seccion_id:a.id,nombre_seccion:a.nombre_seccion,profesor_id:a.profesor_id,asignatura_id:a.asignatura_id}})))}}return(p=v).\u0275fac=function(c){return new(c||p)(g.LFG(d.eN),g.LFG(P.F0),g.LFG(A.e))},p.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),v})()}}]);