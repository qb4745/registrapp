"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3019],{3019:(y,g,r)=>{r.r(g),r.d(g,{Tab2Page:()=>E});var _=r(5861),a=r(6196),m=r(9602),c=r(6814),f=r(4036),u=r(9930),t=r(6689),p=r(1559),h=r(2333),P=r(8828);function T(n,s){1&n&&(t.TgZ(0,"ion-item",15)(1,"ion-avatar",16),t._UZ(2,"ion-skeleton-text",17),t.qZA(),t.TgZ(3,"ion-label")(4,"h3"),t._UZ(5,"ion-skeleton-text",10),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"ion-skeleton-text",18),t.qZA()(),t._UZ(8,"ion-skeleton-text",19),t.qZA())}const O=function(){return[]};function Z(n,s){1&n&&(t.ynx(0),t.TgZ(1,"ion-list-header",9)(2,"ion-label"),t._UZ(3,"ion-skeleton-text",10),t.qZA(),t.TgZ(4,"ion-note",11),t._UZ(5,"ion-skeleton-text",12),t.qZA()(),t.TgZ(6,"ion-list",13),t.YNc(7,T,9,0,"ion-item",14),t.qZA(),t.BQk()),2&n&&(t.xp6(7),t.Q6J("ngForOf",t.DdM(1,O).constructor(6)))}function C(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item",23),t.NdJ("click",function(){const l=t.CHM(i).$implicit,d=t.oxw(3);return t.KtG(d.goToClaseDetails(l))}),t.TgZ(1,"ion-avatar",24),t._UZ(2,"ion-icon",25),t.qZA(),t.TgZ(3,"ion-label")(4,"h2")(5,"strong"),t._uU(6),t.qZA()(),t.TgZ(7,"h2"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"date"),t.qZA()()()}if(2&n){const i=s.$implicit;t.xp6(6),t.AsE("",i.hora_inicio.slice(0,5)," a ",i.hora_termino.slice(0,5),""),t.xp6(2),t.Oqu(i.nombre_seccion),t.xp6(2),t.Oqu(t.xi3(11,4,i.fecha,"dd MMM, yyyy"))}}function M(n,s){if(1&n&&(t.TgZ(0,"ion-list",13),t.YNc(1,C,12,7,"ion-item",22),t.qZA()),2&n){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.clasesList)}}function D(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-list-header",9)(2,"ion-label",20),t._uU(3),t.ALo(4,"titlecase"),t.qZA()(),t.YNc(5,M,2,1,"ion-list",21),t.BQk()),2&n){const i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,i.getCurrentDate())),t.xp6(2),t.Q6J("ngIf",i.content_loaded&&i.clasesList)}}let E=(()=>{var n;class s{constructor(e,o,l,d,x){this.routerOutlet=e,this.modalController=o,this.clasesService=l,this.authService=d,this.router=x,this.date=u().tz("America/Santiago").format("YYYY-MM-DD"),this.currentDate=this.date,this.content_loaded=!1}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.profesorId=e.authService.getCurrentUserId();try{console.log("currentDate:",e.currentDate),e.clasesList=yield(0,f.z)(e.clasesService.getProfesorClasesListCurrentDay(e.profesorId,e.currentDate)),e.clasesList.sort((o,l)=>o.hora_inicio.localeCompare(l.hora_inicio)),e.content_loaded=!0,console.log("clasesList tab 2 :",e.clasesList)}catch(o){console.error("Error Trayendo los datos de las clases:",o)}})()}ionViewWillEnter(){return(0,_.Z)(function*(){})()}ionViewDidEnter(){return(0,_.Z)(function*(){})()}filter(){var e=this;return(0,_.Z)(function*(){const o=yield e.modalController.create({component:m.FilterPage,presentingElement:e.routerOutlet.nativeEl});yield o.present();const{data:l}=yield o.onWillDismiss();l&&(e.content_loaded=!1,setTimeout(()=>{e.content_loaded=!0},2e3))})()}getCurrentDate(){return(new Date).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}goToClaseDetails(e){let o={state:{clase:e}};console.log("claseInfo:",o),this.router.navigate([`clase-detalles/${e.id}`],o)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.Y36(a.jP),t.Y36(a.IN),t.Y36(p.F),t.Y36(h.e),t.Y36(P.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tab2"]],standalone:!0,features:[t.jDz],decls:11,vars:4,consts:[["collapse","fade",3,"translucent"],["color","dark"],[1,"light","centered-title"],["slot","primary"],["color","secondary",3,"click"],["slot","icon-only","color","light","name","filter"],[3,"fullscreen"],[1,"ion-padding"],[4,"ngIf"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],["color","tertiary"],["class","list-custom animate__animated animate__fadeIn","lines","full",4,"ngIf"],["color","primary","button","","detail","false",3,"click",4,"ngFor","ngForOf"],["color","primary","button","","detail","false",3,"click"],["slot","start",1,"ion-avatar-default-icon","heart"],["color","tertiary","size","large","name","qr-code-outline"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t._uU(3,"Horario de Clases"),t.qZA(),t.TgZ(4,"ion-buttons",3)(5,"ion-button",4),t.NdJ("click",function(){return o.filter()}),t._UZ(6,"ion-icon",5),t.qZA()()()(),t.TgZ(7,"ion-content",6)(8,"div",7),t.YNc(9,Z,8,2,"ng-container",8),t.YNc(10,D,6,4,"ng-container",8),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngIf",!o.content_loaded),t.xp6(1),t.Q6J("ngIf",o.content_loaded))},dependencies:[a.Pc,a.BJ,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.yh,a.uN,a.CK,a.wd,a.sr,c.ez,c.sg,c.O5,c.rS,c.uU],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:120%}.heart[_ngcontent-%COMP%]{color:red;font-size:50px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(1.2)}70%{transform:scale(.65)}to{transform:scale(0)}}"]}),s})()}}]);