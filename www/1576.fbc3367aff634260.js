"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1576],{1576:(b,f,r)=>{r.r(f),r.d(f,{Tab1Page:()=>I});var p=r(5861),a=r(6196),u=r(6814),h=r(4036),m=r(95),t=r(6689),g=r(2333),_=r(8828),d=r(9862),c=r(553),Z=r(46);let v=(()=>{var o;class l{constructor(e,n,s){this.http=e,this.router=n,this.authService=s,this.apiUrl=c.N.supabaseUrl+"/rest/v1/users",this.supabase=(0,Z.eI)(c.N.supabaseUrl,c.N.supabaseKey)}getUserObservable(e){const n=new d.WM({apikey:c.N.supabaseKey,Authorization:`Bearer ${c.N.supabaseKey}`,Range:"0-9"});return this.http.get(this.apiUrl,{headers:n,params:{id:`eq.${e}`,select:"*"}})}getUserInfoAndCarrera(e){const n=new d.WM({apikey:c.N.supabaseKey,Authorization:`Bearer ${c.N.supabaseKey}`,Range:"0-9"});return this.http.get(this.apiUrl,{headers:n,params:{id:`eq.${e}`,select:"*,carreras(nombre_carrera)"}})}}return(o=l).\u0275fac=function(e){return new(e||o)(t.LFG(d.eN),t.LFG(_.F0),t.LFG(g.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var x=r(2518),P=r(7911);function U(o,l){1&o&&(t.TgZ(0,"ion-item",17)(1,"ion-avatar",18),t._UZ(2,"ion-skeleton-text",19),t.qZA(),t.TgZ(3,"ion-label")(4,"h3"),t._UZ(5,"ion-skeleton-text",12),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"ion-skeleton-text",20),t.qZA()(),t._UZ(8,"ion-skeleton-text",21),t.qZA())}const y=function(){return[]};function A(o,l){1&o&&(t.ynx(0),t.TgZ(1,"ion-list-header",11)(2,"ion-label"),t._UZ(3,"ion-skeleton-text",12),t.qZA(),t.TgZ(4,"ion-note",13),t._UZ(5,"ion-skeleton-text",14),t.qZA()(),t.TgZ(6,"ion-list",15),t.YNc(7,U,9,0,"ion-item",16),t.qZA(),t.BQk()),2&o&&(t.xp6(7),t.Q6J("ngForOf",t.DdM(1,y).constructor(6)))}function C(o,l){if(1&o&&(t.TgZ(0,"ion-card",22)(1,"ion-card-content")(2,"ion-avatar"),t._UZ(3,"img",23),t.qZA(),t.TgZ(4,"h1")(5,"ion-text",24)(6,"strong"),t._uU(7),t.ALo(8,"titlecase"),t.ALo(9,"titlecase"),t.qZA()()(),t.TgZ(10,"p")(11,"ion-text",25),t._uU(12),t.qZA()()()()),2&o){const i=t.oxw();t.xp6(7),t.AsE("",t.lcZ(8,3,i.userFromPublic[0].nombre)," ",t.lcZ(9,5,i.userFromPublic[0].apellido_paterno),""),t.xp6(5),t.Oqu(i.userFromPublic[0].email)}}function F(o,l){if(1&o&&(t.TgZ(0,"h2")(1,"ion-text",25)(2,"strong"),t._uU(3),t.qZA()()()),2&o){const i=t.oxw(4);t.xp6(3),t.hij(" R.U.T: ",i.userFromPublic[0].rut," ")}}function M(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"ion-content")(1,"ion-card",42)(2,"ion-card-content")(3,"ion-avatar",43),t._UZ(4,"img",23),t.qZA(),t.TgZ(5,"h1")(6,"ion-text",27)(7,"strong"),t._uU(8),t.ALo(9,"titlecase"),t.ALo(10,"titlecase"),t.ALo(11,"titlecase"),t.qZA()()(),t._UZ(12,"hr"),t.TgZ(13,"h2")(14,"ion-text",25)(15,"strong"),t._uU(16),t.qZA()()(),t.YNc(17,F,4,1,"h2",8),t._UZ(18,"hr"),t.TgZ(19,"ion-button",44),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(3);return t.KtG(n.updateProfilePicture())}),t._uU(20," Cambiar fotograf\xeda de perfil "),t.qZA()()(),t._UZ(21,"ion-content",45),t.qZA()}if(2&o){const i=t.oxw(3);t.xp6(8),t.lnq(" ",t.lcZ(9,5,i.userFromPublic[0].nombre)," ",t.lcZ(10,7,i.userFromPublic[0].apellido_paterno)," ",t.lcZ(11,9,i.userFromPublic[0].apellido_materno),""),t.xp6(8),t.hij(" Email: ",i.userFromPublic[0].email,""),t.xp6(1),t.Q6J("ngIf",i.userFromPublic)}}function O(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title",3),t._uU(3,"Credencial Virtual"),t.qZA(),t.TgZ(4,"ion-buttons",40)(5,"ion-button",41),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.confirm())}),t._uU(6,"cerrar"),t.qZA()()()(),t.YNc(7,M,22,11,"ion-content",8)}if(2&o){const i=t.oxw(2);t.xp6(5),t.Q6J("strong",!0),t.xp6(2),t.Q6J("ngIf",i.userFromPublic)}}function S(o,l){if(1&o){const i=t.EpF();t.TgZ(0,"div",26)(1,"ion-list-header",11)(2,"ion-label")(3,"ion-text",27),t._uU(4,"Informaci\xf3n Personal"),t.qZA()()(),t.TgZ(5,"ion-list",28)(6,"ion-item",29),t._UZ(7,"ion-icon",30),t.TgZ(8,"ion-label")(9,"h3"),t._uU(10,"Credencial Virtual"),t.qZA()(),t.TgZ(11,"ion-modal",31),t.NdJ("willDismiss",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onWillDismiss(n))}),t.YNc(12,O,8,2,"ng-template"),t.qZA()()(),t._UZ(13,"hr",32),t.TgZ(14,"ion-list-header",11)(15,"ion-label")(16,"ion-text",27),t._uU(17,"Secciones"),t.qZA()()(),t.TgZ(18,"ion-item",33),t._UZ(19,"ion-icon",34),t.TgZ(20,"ion-label")(21,"h3"),t._uU(22,"Calificar Secci\xf3n"),t.qZA()()(),t.TgZ(23,"ion-list",35)(24,"ion-item",36),t._UZ(25,"ion-icon",37),t.TgZ(26,"ion-label")(27,"h3"),t._uU(28,"Alumnos por Secci\xf3n"),t.qZA()()(),t.TgZ(29,"ion-item",33),t._UZ(30,"ion-icon",38),t.TgZ(31,"ion-label")(32,"h3"),t._uU(33,"Mensajes de AVA"),t.qZA()(),t.TgZ(34,"ion-note",39),t._uU(35,"7"),t.qZA()()()()}}let I=(()=>{var o;class l{cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(e){"confirm"===e.detail.role&&(this.message=`Hello, ${e.detail.data}!`)}constructor(e,n,s,k,N,q,E,w){this.authService=e,this.router=n,this.userService=s,this.profesorService=k,this.formBuilder=N,this.toastService=q,this.navController=E,this.actionSheetController=w,this.content_loaded=!1,this.submitAttempt=!1,this.message="This modal example uses triggers to automatically open a modal when the button is clicked."}ngOnInit(){var e=this;return(0,p.Z)(function*(){try{e.profesorId=e.authService.getCurrentUserId(),e.userFromPublic=yield(0,h.z)(e.profesorService.getProfesorInfo(e.profesorId)),e.content_loaded=!0,console.log("userFromPublic:",e.userFromPublic)}catch(n){console.error("Error Trayendo los datos de las clases:",n)}})()}goToStudentTabs(){this.authService.initialized||this.router.navigate(["student","tabs","tab1"])}goToTeacherTabs(){this.router.navigate(["teacher","tabs","tab1"])}signOut(){this.authService.signOut(),this.authService.setInizializedToFalse()}updateProfilePicture(){var e=this;return(0,p.Z)(function*(){yield(yield e.actionSheetController.create({header:"Elejir fotograf\xeda existente o tomar una nueva",cssClass:"custom-action-sheet",buttons:[{text:"Elejir fotograf\xeda desde galeria",icon:"images",handler:()=>{}},{text:"Tomar fotograf\xeda",icon:"camera",handler:()=>{}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}submit(){this.submitAttempt=!0,this.editProfileForm.valid?(this.toastService.presentToast("Success","Profile saved","top","success",2e3),this.navController.back()):this.toastService.presentToast("Error","Please fill in all required fields","top","danger",2e3)}}return(o=l).\u0275fac=function(e){return new(e||o)(t.Y36(g.e),t.Y36(_.F0),t.Y36(v),t.Y36(x._),t.Y36(m.qu),t.Y36(P.k),t.Y36(a.SH),t.Y36(a.BX))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab1"]],viewQuery:function(e,n){if(1&e&&t.Gf(a.ki,5),2&e){let s;t.iGM(s=t.CRH())&&(n.modal=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:5,consts:[["collapse","fade",3,"translucent"],["color","dark"],["color","light",1,"centered-title"],["slot","primary"],["color","secondary",3,"click"],["slot","icon-only","color","light","name","log-out"],[3,"fullscreen"],[1,"ion-padding"],[4,"ngIf"],["class","profile-card list-custom animate__animated animate__fadeIn",4,"ngIf"],["class","ion-padding list-custom animate__animated animate__fadeIn",4,"ngIf"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],[1,"profile-card","list-custom","animate__animated","animate__fadeIn"],["src","../../../../assets/card-media.png"],["color","tertiary",1,"ion-text-center"],["color","medium"],[1,"ion-padding","list-custom","animate__animated","animate__fadeIn"],["color","tertiary"],["lines","full"],["color","primary","button","","id","open-modal"],["slot","start","color","medium","name","id-card-outline"],["trigger","open-modal",3,"willDismiss"],[1,"hr-medium"],["color","primary","button",""],["slot","start","color","medium","name","reader-outline"],["lines","full",1,"list-custom"],["color","primary","detail","false","button",""],["slot","start","color","medium","name","people-outline"],["slot","start","color","medium","name","mail-outline"],["slot","end","color","tertiary"],["slot","end"],[3,"strong","click"],[1,"profile-card","animate__animated","animate__fadeIn"],[1,"img2"],["color","primary",1,"ion-button-small",3,"click"],[1,"profile-card"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),t._uU(3," Tu \xc1rea de Profesor "),t.qZA(),t.TgZ(4,"ion-buttons",3)(5,"ion-button",4),t.NdJ("click",function(){return n.signOut()}),t._UZ(6,"ion-icon",5),t.qZA()()()(),t.TgZ(7,"ion-content",6)(8,"div",7),t.YNc(9,A,8,2,"ng-container",8),t.qZA(),t.YNc(10,C,13,7,"ion-card",9),t.YNc(11,S,36,0,"div",10),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngIf",!n.content_loaded),t.xp6(1),t.Q6J("ngIf",n.content_loaded&&n.userFromPublic),t.xp6(1),t.Q6J("ngIf",n.content_loaded&&n.userFromPublic))},dependencies:[a.Pc,a.BJ,a.YG,a.Sm,a.PM,a.FN,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.yh,a.uN,a.CK,a.yW,a.wd,a.sr,a.ki,u.ez,u.sg,u.O5,u.rS,m.u5],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:120%}.heart[_ngcontent-%COMP%]{color:red;font-size:50px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(1.2)}70%{transform:scale(.65)}to{transform:scale(0)}}.profile-card[_ngcontent-%COMP%]{border-radius:0;background:linear-gradient(135deg,var(--ion-color-dark),var(--ion-color-primary));width:100%;display:flex;justify-content:center;flex-direction:column;align-items:center;padding:30px;text-align:center}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px;text-align:center;margin-bottom:30px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:128px;width:128px;border-radius:50%;border:4px solid var(--ion-color-light);display:inline;box-shadow:0 0 28px #ffffffa6;margin-left:10px}.img2[_ngcontent-%COMP%]{height:128px;width:128px;margin-left:60px}"]}),l})()},4036:(b,f,r)=>{r.d(f,{z:()=>u});var p=r(6973),a=r(305);function u(h,m){const t="object"==typeof m;return new Promise((g,_)=>{const d=new a.Hp({next:c=>{g(c),d.unsubscribe()},error:_,complete:()=>{t?g(m.defaultValue):_(new p.K)}});h.subscribe(d)})}}}]);