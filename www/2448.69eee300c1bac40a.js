"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2448],{2448:(A,m,r)=>{r.r(m),r.d(m,{DetalleProfesorPage:()=>O});var d=r(5861),u=r(6814),f=r(95),t=r(6196),e=r(6689),g=r(8828),v=r(1559),E=r(8588),C=r(7911);function b(o,s){1&o&&(e.TgZ(0,"ion-item",18)(1,"ion-avatar",19),e._UZ(2,"ion-skeleton-text",20),e.qZA(),e.TgZ(3,"ion-label")(4,"h3"),e._UZ(5,"ion-skeleton-text",13),e.qZA(),e.TgZ(6,"p"),e._UZ(7,"ion-skeleton-text",21),e.qZA()(),e._UZ(8,"ion-skeleton-text",22),e.qZA())}const M=function(){return[]};function T(o,s){1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",12)(2,"ion-label"),e._UZ(3,"ion-skeleton-text",13),e.qZA(),e.TgZ(4,"ion-note",14),e._UZ(5,"ion-skeleton-text",15),e.qZA()(),e.TgZ(6,"ion-list",16),e.YNc(7,b,9,0,"ion-item",17),e.qZA(),e.BQk()),2&o&&(e.xp6(7),e.Q6J("ngForOf",e.DdM(1,M).constructor(12)))}function p(o,s){if(1&o&&(e.TgZ(0,"ion-list",26)(1,"ion-item",27)(2,"ion-label")(3,"p"),e._uU(4,"Secci\xf3n:"),e.qZA()(),e._UZ(5,"ion-input",28),e.ALo(6,"titlecase"),e.ALo(7,"titlecase"),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"ion-item",27)(10,"ion-label")(11,"p"),e._uU(12,"R.U.N:"),e.qZA()(),e._UZ(13,"ion-input",28),e.qZA(),e.TgZ(14,"ion-item",27)(15,"ion-label")(16,"p"),e._uU(17,"Email:"),e.qZA()(),e._UZ(18,"ion-input",28),e.qZA(),e.TgZ(19,"ion-item",27)(20,"ion-label")(21,"p"),e._uU(22,"Celular:"),e.qZA()(),e._UZ(23,"ion-input",28),e.qZA()()),2&o){const i=e.oxw(2);e.xp6(5),e.cQ8("value","",e.lcZ(6,6,i.userInfoReceived[0].nombre)," ",e.lcZ(7,8,i.userInfoReceived[0].apellido_paterno)," ",e.lcZ(8,10,i.userInfoReceived[0].apellido_materno),""),e.xp6(8),e.s9C("value",i.userInfoReceived[0].rut),e.xp6(5),e.s9C("value",i.userInfoReceived[0].email),e.xp6(5),e.MGl("value","(+56) ",i.userInfoReceived[0].telefono,"")}}function P(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",23)(2,"ion-label")(3,"ion-text",24),e._uU(4," Tu Informaci\xf3n"),e.qZA()()(),e.YNc(5,p,24,12,"ion-list",25),e.BQk()),2&o){const i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.content_loaded&&i.userInfoReceived)}}let O=(()=>{var o;class s{constructor(a,n,c,l,h,_,x,U){this.router=a,this.activatedRoute=n,this.clasesService=c,this.asistenciaService=l,this.formBuilder=h,this.toastService=_,this.navController=x,this.actionSheetController=U,this.content_loaded=!1,this.submitAttempt=!1,this.qrCodeString="This is a secret qr code message",this.content_visibility=""}ngOnInit(){var a=this;return(0,d.Z)(function*(){try{var n;a.userInfoReceived=null===(n=a.router.getCurrentNavigation())||void 0===n||null===(n=n.extras.state)||void 0===n?void 0:n.user,console.log("userInfoReceived profesor: ",a.userInfoReceived),a.content_loaded=!0,a.content_loaded=!0}catch(c){console.error("Error Trayendo los datos de la clases:",c)}})()}goToStudentTabs(){this.router.navigate(["student","tabs","tab1"])}goToTeacherTabs(){this.router.navigate(["teacher","tabs","tab1"])}goToClasesTab(){this.router.navigate(["teacher","tabs","tab2"])}countTotalAlumnos(a){return a+1}goToCamera(){this.router.navigate(["camera"])}updateProfilePicture(){var a=this;return(0,d.Z)(function*(){yield(yield a.actionSheetController.create({header:"Elejir fotograf\xeda existente o tomar una nueva",cssClass:"custom-action-sheet",buttons:[{text:"Elejir fotograf\xeda desde galeria",icon:"images",handler:()=>{}},{text:"Tomar fotograf\xeda",icon:"camera",handler:()=>{a.goToCamera()}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}submit(){this.submitAttempt=!0,this.editProfileForm.valid?(this.toastService.presentToast("Success","Profile saved","top","success",2e3),this.navController.back()):this.toastService.presentToast("Error","Please fill in all required fields","top","danger",2e3)}}return(o=s).\u0275fac=function(a){return new(a||o)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(v.F),e.Y36(E.l),e.Y36(f.qu),e.Y36(C.k),e.Y36(t.SH),e.Y36(t.BX))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-profesor"]],standalone:!0,features:[e.jDz],decls:17,vars:3,consts:[["collapse","fade",3,"translucent"],["color","dark"],["slot","start"],["color","secondary","text","Atr\xe1s",3,"click"],[1,"centered-title"],[1,"profile-card"],[1,"img2"],["src","../../../../assets/card-media.png"],["color","primary",3,"click"],[1,"ion-padding"],[4,"ngIf"],[1,"hr-medium"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],[1,"ion-list-header-small","ion-margin-top"],["color","tertiary"],["class","list-custom","lines","full",4,"ngIf"],["lines","full",1,"list-custom"],["color","primary"],["readonly","",1,"font-size-small","ion-text-right","ion-no-padding-end",3,"value"]],template:function(a,n){1&a&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-back-button",3),e.NdJ("click",function(){return n.goToTeacherTabs()}),e.qZA()(),e.TgZ(4,"ion-title",4),e._uU(5," Datos Profesor "),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-card",5)(8,"ion-card-content")(9,"ion-avatar",6),e._UZ(10,"img",7),e.qZA()(),e.TgZ(11,"ion-button",8),e.NdJ("click",function(){return n.updateProfilePicture()}),e._uU(12," Cambiar fotograf\xeda "),e.qZA()(),e.TgZ(13,"div",9),e.YNc(14,T,8,2,"ng-container",10),e.YNc(15,P,6,1,"ng-container",10),e._UZ(16,"hr",11),e.qZA()()),2&a&&(e.Q6J("translucent",!0),e.xp6(14),e.Q6J("ngIf",!n.content_loaded),e.xp6(1),e.Q6J("ngIf",n.content_loaded))},dependencies:[t.Pc,t.BJ,t.oU,t.YG,t.Sm,t.PM,t.FN,t.W2,t.Gu,t.pK,t.Ie,t.Q$,t.q_,t.yh,t.uN,t.CK,t.yW,t.wd,t.sr,t.j9,t.cs,u.ez,u.sg,u.O5,u.rS,f.u5],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:70%}.heart[_ngcontent-%COMP%]{color:red;font-size:14px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(.8)}70%{transform:scale(.65)}to{transform:scale(0)}}.qrcodeImage[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.demoBorderRadius[_ngcontent-%COMP%]{border:dashed;border-width:2px 4px;border-radius:40px;overflow:hidden}.profile-card[_ngcontent-%COMP%]{border-radius:0;background:linear-gradient(135deg,var(--ion-color-dark),var(--ion-color-primary));width:100%;display:flex;justify-content:center;flex-direction:column;align-items:center;padding:30px;text-align:center}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px;text-align:center;margin-bottom:30px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:128px;width:128px;border-radius:50%;border:4px solid var(--ion-color-light);display:inline;box-shadow:0 0 28px #ffffffa6;margin-left:10px}.img2[_ngcontent-%COMP%]{height:128px;width:128px;margin-left:-30px}"]}),s})()},1559:(A,m,r)=>{r.d(m,{F:()=>T});var d=r(9862),u=r(7398),f=r(9397),t=r(553),e=r(46),g=r(6689),v=r(8828),E=r(2333);let T=(()=>{var p;class P{constructor(o,s,i){this.http=o,this.router=s,this.authService=i,this.apiUrlSecciones=t.N.supabaseUrl+"/rest/v1/secciones",this.apiUrlSeccionesAlumnos=t.N.supabaseUrl+"/rest/v1/secciones_alumnos",this.apiUrlClases=t.N.supabaseUrl+"/rest/v1/clases",this.supabase=(0,e.eI)(t.N.supabaseUrl,t.N.supabaseKey)}getProfesorClasesListAll(o){const s=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`,Range:"0-9"});return this.http.get(`${this.apiUrlSecciones}`,{headers:s,params:{profesor_id:`eq.${o}`,select:"*,clases(*)"}}).pipe((0,u.U)(a=>{const n=[];return a.forEach(c=>{c.clases.forEach(l=>{n.push({id:l.id,fecha:l.fecha,hora_inicio:l.hora_inicio,hora_termino:l.hora_termino,seccion_id:l.seccion_id,nombre_seccion:c.nombre_seccion,profesor_id:c.profesor_id,asignatura_id:c.asignatura_id})})}),n}))}getProfesorClasesListCurrentDay(o,s){const i=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(`${this.apiUrlSecciones}`,{headers:i,params:{profesor_id:`eq.${o}`,select:"*,clases(*)"}}).pipe((0,f.b)(n=>console.log("API Response:",n)),(0,u.U)(n=>{const l=[];return n.forEach(h=>{h.clases.forEach(_=>{new Date(_.fecha),_.fecha==s&&l.push({id:_.id,fecha:_.fecha,hora_inicio:_.hora_inicio,hora_termino:_.hora_termino,seccion_id:_.seccion_id,nombre_seccion:h.nombre_seccion,profesor_id:h.profesor_id,asignatura_id:h.asignatura_id})})}),l}))}getgetAlumnosBySeccion(o){const s=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(`${this.apiUrlSeccionesAlumnos}`,{headers:s,params:{seccion_id:`eq.${o}`,select:"*,alumnos(*)"}})}getClasesAndSeccionbyFecha(o){const s=new d.WM({apikey:t.N.supabaseKey,Authorization:`Bearer ${t.N.supabaseKey}`});return this.http.get(this.apiUrlClases,{headers:s,params:{fecha:`eq.${o}`,select:"*,seccion_id(*)"}}).pipe((0,f.b)(a=>console.log("API Response:",a)),(0,u.U)(a=>a.map(n=>{const c=n.seccion_id;return{id:n.id,fecha:n.fecha,hora_inicio:n.hora_inicio,hora_termino:n.hora_termino,seccion_id:c.id,nombre_seccion:c.nombre_seccion,profesor_id:c.profesor_id,asignatura_id:c.asignatura_id}})))}}return(p=P).\u0275fac=function(o){return new(o||p)(g.LFG(d.eN),g.LFG(v.F0),g.LFG(E.e))},p.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),P})()}}]);