"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1576],{1576:(v,h,a)=>{a.r(h),a.d(h,{Tab1Page:()=>O});var p=a(5861),n=a(6196),u=a(6814),b=a(4036),m=a(95),e=a(6689),g=a(2333),f=a(8828),d=a(9862),l=a(553),_=a(46);let Z=(()=>{var i;class c{constructor(t,o,s){this.http=t,this.router=o,this.authService=s,this.apiUrl=l.N.supabaseUrl+"/rest/v1/users",this.supabase=(0,_.eI)(l.N.supabaseUrl,l.N.supabaseKey)}getUserObservable(t){const o=new d.WM({apikey:l.N.supabaseKey,Authorization:`Bearer ${l.N.supabaseKey}`,Range:"0-9"});return this.http.get(this.apiUrl,{headers:o,params:{id:`eq.${t}`,select:"*"}})}getUserInfoAndCarrera(t){const o=new d.WM({apikey:l.N.supabaseKey,Authorization:`Bearer ${l.N.supabaseKey}`,Range:"0-9"});return this.http.get(this.apiUrl,{headers:o,params:{id:`eq.${t}`,select:"*,carreras(nombre_carrera)"}})}}return(i=c).\u0275fac=function(t){return new(t||i)(e.LFG(d.eN),e.LFG(f.F0),e.LFG(g.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),c})();var P=a(2518),x=a(7911);function y(i,c){1&i&&(e.TgZ(0,"ion-item",17)(1,"ion-avatar",18),e._UZ(2,"ion-skeleton-text",19),e.qZA(),e.TgZ(3,"ion-label")(4,"h3"),e._UZ(5,"ion-skeleton-text",12),e.qZA(),e.TgZ(6,"p"),e._UZ(7,"ion-skeleton-text",20),e.qZA()(),e._UZ(8,"ion-skeleton-text",21),e.qZA())}const U=function(){return[]};function C(i,c){1&i&&(e.ynx(0),e.TgZ(1,"ion-list-header",11)(2,"ion-label"),e._UZ(3,"ion-skeleton-text",12),e.qZA(),e.TgZ(4,"ion-note",13),e._UZ(5,"ion-skeleton-text",14),e.qZA()(),e.TgZ(6,"ion-list",15),e.YNc(7,y,9,0,"ion-item",16),e.qZA(),e.BQk()),2&i&&(e.xp6(7),e.Q6J("ngForOf",e.DdM(1,U).constructor(6)))}function A(i,c){if(1&i&&(e.TgZ(0,"ion-card",22)(1,"ion-card-content")(2,"ion-avatar"),e._UZ(3,"img",23),e.qZA(),e.TgZ(4,"h1")(5,"ion-text",24)(6,"strong"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"titlecase"),e.qZA()()(),e.TgZ(10,"p")(11,"ion-text",25),e._uU(12),e.qZA()()()()),2&i){const r=e.oxw();e.xp6(7),e.AsE("",e.lcZ(8,3,r.userFromPublic[0].nombre)," ",e.lcZ(9,5,r.userFromPublic[0].apellido_paterno),""),e.xp6(5),e.Oqu(r.userFromPublic[0].email)}}function S(i,c){if(1&i){const r=e.EpF();e.TgZ(0,"div",26)(1,"ion-list-header",11)(2,"ion-label")(3,"ion-text",27),e._uU(4,"Informaci\xf3n Personal"),e.qZA()()(),e.TgZ(5,"ion-list",28)(6,"ion-item",29),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.goToDetalleProfesor(o.userFromPublic))}),e._UZ(7,"ion-icon",30),e.TgZ(8,"ion-label")(9,"h3"),e._uU(10,"Tus datos"),e.qZA()()()(),e._UZ(11,"hr",31),e.TgZ(12,"ion-list-header",11)(13,"ion-label")(14,"ion-text",27),e._uU(15,"Secciones"),e.qZA()()(),e.TgZ(16,"ion-item",32),e._UZ(17,"ion-icon",30),e.TgZ(18,"ion-label")(19,"h3"),e._uU(20,"Calificar Secci\xf3n"),e.qZA()()(),e.TgZ(21,"ion-list",33)(22,"ion-item",34),e._UZ(23,"ion-icon",35),e.TgZ(24,"ion-label")(25,"h3"),e._uU(26,"Alumnos por Secci\xf3n"),e.qZA()()(),e.TgZ(27,"ion-item",32),e._UZ(28,"ion-icon",36),e.TgZ(29,"ion-label")(30,"h3"),e._uU(31,"Mensajes de AVA"),e.qZA()(),e.TgZ(32,"ion-note",37),e._uU(33,"7"),e.qZA()()()()}}let O=(()=>{var i;class c{cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}constructor(t,o,s,M,I,F,k,N){this.authService=t,this.router=o,this.userService=s,this.profesorService=M,this.formBuilder=I,this.toastService=F,this.navController=k,this.actionSheetController=N,this.content_loaded=!1,this.submitAttempt=!1,this.message="This modal example uses triggers to automatically open a modal when the button is clicked."}ngOnInit(){var t=this;return(0,p.Z)(function*(){try{t.profesorId=t.authService.getCurrentUserId(),t.userFromPublic=yield(0,b.z)(t.profesorService.getProfesorInfo(t.profesorId)),t.content_loaded=!0}catch(o){console.error("Error Trayendo los datos de las clases:",o)}})()}goToStudentTabs(){this.authService.initialized||this.router.navigate(["student","tabs","tab1"])}goToTeacherTabs(){this.router.navigate(["teacher","tabs","tab1"])}goToDetalleProfesor(t){let o={state:{user:t}};console.log("userInfoSend: ",o),this.router.navigate(["detalle-profesor"],o)}signOut(){this.authService.signOut(),this.authService.setInizializedToFalse()}updateProfilePicture(){var t=this;return(0,p.Z)(function*(){yield(yield t.actionSheetController.create({header:"Elejir fotograf\xeda existente o tomar una nueva",cssClass:"custom-action-sheet",buttons:[{text:"Elejir fotograf\xeda desde galeria",icon:"images",handler:()=>{}},{text:"Tomar fotograf\xeda",icon:"camera",handler:()=>{}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}submit(){this.submitAttempt=!0,this.editProfileForm.valid?(this.toastService.presentToast("Success","Profile saved","top","success",2e3),this.navController.back()):this.toastService.presentToast("Error","Please fill in all required fields","top","danger",2e3)}}return(i=c).\u0275fac=function(t){return new(t||i)(e.Y36(g.e),e.Y36(f.F0),e.Y36(Z),e.Y36(P._),e.Y36(m.qu),e.Y36(x.k),e.Y36(n.SH),e.Y36(n.BX))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tab1"]],viewQuery:function(t,o){if(1&t&&e.Gf(n.ki,5),2&t){let s;e.iGM(s=e.CRH())&&(o.modal=s.first)}},standalone:!0,features:[e.jDz],decls:12,vars:5,consts:[["collapse","fade",3,"translucent"],["color","dark"],["color","light",1,"centered-title"],["slot","primary"],["color","secondary",3,"click"],["slot","icon-only","color","light","name","log-out"],[3,"fullscreen"],[1,"ion-padding"],[4,"ngIf"],["class","profile-card list-custom animate__animated animate__fadeIn",4,"ngIf"],["class","ion-padding list-custom animate__animated animate__fadeIn",4,"ngIf"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],[1,"profile-card","list-custom","animate__animated","animate__fadeIn"],["src","../../../../assets/card-media.png"],["color","tertiary",1,"ion-text-center"],["color","medium"],[1,"ion-padding","list-custom","animate__animated","animate__fadeIn"],["color","tertiary"],["lines","full"],["color","primary",3,"click"],["slot","start","color","medium","name","reader-outline"],[1,"hr-medium"],["color","primary","button",""],["lines","full",1,"list-custom"],["color","primary","detail","false","button",""],["slot","start","color","medium","name","people-outline"],["slot","start","color","medium","name","mail-outline"],["slot","end","color","tertiary"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),e._uU(3," Tu \xc1rea de Profesor "),e.qZA(),e.TgZ(4,"ion-buttons",3)(5,"ion-button",4),e.NdJ("click",function(){return o.signOut()}),e._UZ(6,"ion-icon",5),e.qZA()()()(),e.TgZ(7,"ion-content",6)(8,"div",7),e.YNc(9,C,8,2,"ng-container",8),e.qZA(),e.YNc(10,A,13,7,"ion-card",9),e.YNc(11,S,34,0,"div",10),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",!o.content_loaded),e.xp6(1),e.Q6J("ngIf",o.content_loaded&&o.userFromPublic),e.xp6(1),e.Q6J("ngIf",o.content_loaded&&o.userFromPublic))},dependencies:[n.Pc,n.BJ,n.YG,n.Sm,n.PM,n.FN,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.yh,n.uN,n.CK,n.yW,n.wd,n.sr,u.ez,u.sg,u.O5,u.rS,m.u5],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:120%}.heart[_ngcontent-%COMP%]{color:red;font-size:50px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(1.2)}70%{transform:scale(.65)}to{transform:scale(0)}}.profile-card[_ngcontent-%COMP%]{border-radius:0;background:linear-gradient(135deg,var(--ion-color-dark),var(--ion-color-primary));width:100%;display:flex;justify-content:center;flex-direction:column;align-items:center;padding:30px;text-align:center}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px;text-align:center;margin-bottom:30px}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:128px;width:128px;border-radius:50%;border:4px solid var(--ion-color-light);display:inline;box-shadow:0 0 28px #ffffffa6;margin-left:10px}.img2[_ngcontent-%COMP%]{height:128px;width:128px;margin-left:60px}"]}),c})()},4036:(v,h,a)=>{a.d(h,{z:()=>u});var p=a(6973),n=a(305);function u(b,m){const e="object"==typeof m;return new Promise((g,f)=>{const d=new n.Hp({next:l=>{g(l),d.unsubscribe()},error:f,complete:()=>{e?g(m.defaultValue):f(new p.K)}});b.subscribe(d)})}}}]);