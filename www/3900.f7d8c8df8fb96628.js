"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3900],{3900:(I,_,i)=>{i.r(_),i.d(_,{Tab3Page:()=>Z});var d=i(5861),a=i(6196),h=i(95),c=i(6814),f=i(4036),P=i(46),u=i(553),p=i(9602),m=i(9930),e=i(6689),g=i(8828),T=i(1559),O=i(8588),D=i(2333);function M(o,r){1&o&&(e.TgZ(0,"ion-item",15)(1,"ion-avatar",16),e._UZ(2,"ion-skeleton-text",17),e.qZA(),e.TgZ(3,"ion-label")(4,"h3"),e._UZ(5,"ion-skeleton-text",10),e.qZA(),e.TgZ(6,"p"),e._UZ(7,"ion-skeleton-text",18),e.qZA()(),e._UZ(8,"ion-skeleton-text",19),e.qZA())}const E=function(){return[]};function v(o,r){1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",9)(2,"ion-label"),e._UZ(3,"ion-skeleton-text",10),e.qZA(),e.TgZ(4,"ion-note",11),e._UZ(5,"ion-skeleton-text",12),e.qZA()(),e.TgZ(6,"ion-list",13),e.YNc(7,M,9,0,"ion-item",14),e.qZA(),e.BQk()),2&o&&(e.xp6(7),e.Q6J("ngForOf",e.DdM(1,E).constructor(6)))}function A(o,r){if(1&o&&(e.TgZ(0,"ion-item",15)(1,"ion-avatar",22),e._UZ(2,"ion-icon",23),e.qZA(),e.TgZ(3,"ion-label")(4,"h2")(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"h2"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"date"),e.qZA()()()),2&o){const s=r.$implicit;e.xp6(6),e.AsE("",s.hora_inicio.slice(0,5)," a ",s.hora_termino.slice(0,5),""),e.xp6(2),e.Oqu(s.nombre_seccion),e.xp6(2),e.Oqu(e.xi3(11,4,s.fecha,"dd MMM, yyyy"))}}function y(o,r){if(1&o&&(e.TgZ(0,"ion-list",13),e.YNc(1,A,12,7,"ion-item",14),e.qZA()),2&o){const s=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",s.clasesListFilteredByAlumnoSecciones)}}function C(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-list-header",9)(2,"ion-label",20),e._uU(3),e.ALo(4,"titlecase"),e.qZA()(),e.YNc(5,y,2,1,"ion-list",21),e.BQk()),2&o){const s=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,s.getCurrentDate())),e.xp6(2),e.Q6J("ngIf",s.content_loaded&&s.clasesListFilteredByAlumnoSecciones)}}let Z=(()=>{var o;class r{cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss(this.name,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}constructor(t,n,l,b,x,L,U){this.router=t,this.activatedRoute=n,this.clasesService=l,this.asistenciaService=b,this.authService=x,this.routerOutlet=L,this.modalController=U,this.content_loaded=!1,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.title="RegistrAPP - QR Code Generator",this.date=m().tz("America/Santiago").format("YYYY-MM-DD"),this.currentDate=this.date,this.supabase=(0,P.eI)(u.N.supabaseUrl,u.N.supabaseKey)}ngOnInit(){var t=this;return(0,d.Z)(function*(){t.alumnoId=t.authService.getCurrentUserId(),t.seccionesDeAlumno=(yield t.supabase.rpc("getseccionesalumnos",{palumno_id:t.alumnoId})).data.map(n=>n.seccion_id),console.log("this.seccionesDeAlumno :",t.seccionesDeAlumno);try{console.log("currentDate:",t.currentDate),t.clasesList=yield(0,f.z)(t.clasesService.getClasesAndSeccionbyFecha(t.currentDate)),console.log("this.clasesList :",t.clasesList),t.clasesListFilteredByAlumnoSecciones=t.clasesList.filter(n=>t.seccionesDeAlumno.includes(n.seccion_id)),console.log("this.clasesListFilteredByAlumnoSecciones :",t.clasesListFilteredByAlumnoSecciones),t.clasesList.sort((n,l)=>n.hora_inicio.localeCompare(l.hora_inicio)),t.content_loaded=!0,console.log("clasesList tab 2 :",t.clasesList)}catch(n){console.error("Error Trayendo los datos de las clases:",n)}})()}goToClasesTab(){this.router.navigate(["teacher","tabs","tab2"])}countTotalAlumnos(t){return t+1}filter(){var t=this;return(0,d.Z)(function*(){const n=yield t.modalController.create({component:p.FilterPage,presentingElement:t.routerOutlet.nativeEl});yield n.present();const{data:l}=yield n.onWillDismiss();l&&(t.content_loaded=!1,setTimeout(()=>{t.content_loaded=!0},2e3))})()}getCurrentDate(){return(new Date).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}goToClaseDetails(t){let n={state:{clase:t}};console.log("claseInfo:",n),this.router.navigate([`clase-detalles/${t.id}`],n)}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(T.F),e.Y36(O.l),e.Y36(D.e),e.Y36(a.jP),e.Y36(a.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab3"]],viewQuery:function(t,n){if(1&t&&e.Gf(a.ki,5),2&t){let l;e.iGM(l=e.CRH())&&(n.modal=l.first)}},standalone:!0,features:[e.jDz],decls:11,vars:4,consts:[["collapse","fade",3,"translucent"],["color","dark"],[1,"light","centered-title"],["slot","primary"],["color","secondary",3,"click"],["slot","icon-only","color","light","name","filter"],[3,"fullscreen"],[1,"ion-padding"],[4,"ngIf"],[1,"ion-list-header-small"],["animated","",2,"width","50%"],["color","tertiary",1,"ion-note-small"],["animated","",2,"width","40px"],["lines","full",1,"list-custom","animate__animated","animate__fadeIn"],["color","primary","button","","detail","false",4,"ngFor","ngForOf"],["color","primary","button","","detail","false"],["slot","start",1,"ion-avatar-default-icon"],["animated",""],["animated","",2,"width","75%"],["slot","end","animated","",2,"width","15%"],["color","tertiary"],["class","list-custom animate__animated animate__fadeIn","lines","full",4,"ngIf"],["slot","start",1,"ion-avatar-default-icon","heart"],["color","tertiary","size","large","name","book-outline"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),e._uU(3," Horario de Hoy "),e.qZA(),e.TgZ(4,"ion-buttons",3)(5,"ion-button",4),e.NdJ("click",function(){return n.filter()}),e._UZ(6,"ion-icon",5),e.qZA()()()(),e.TgZ(7,"ion-content",6)(8,"div",7),e.YNc(9,v,8,2,"ng-container",8),e.YNc(10,C,6,4,"ng-container",8),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",!n.content_loaded),e.xp6(1),e.Q6J("ngIf",n.content_loaded))},dependencies:[a.Pc,a.BJ,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.yh,a.uN,a.CK,a.wd,a.sr,h.u5,c.ez,c.sg,c.O5,c.rS,c.uU],styles:["[_nghost-%COMP%]   body[_ngcontent-%COMP%]{background-color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar-search[_ngcontent-%COMP%]{--background: linear-gradient( 135deg, var(--ion-color-dark), var(--ion-color-primary) )}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:8px;background-color:var(--ion-color-primary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.centered-title[_ngcontent-%COMP%]{text-align:center;width:120%}.heart[_ngcontent-%COMP%]{color:red;font-size:50px;animation:_ngcontent-%COMP%_heart-pulse 5s infinite ease-out}@keyframes _ngcontent-%COMP%_heart-pulse{0%{transform:scale(0)}50%{transform:scale(1.2)}70%{transform:scale(.65)}to{transform:scale(0)}}"]}),r})()}}]);